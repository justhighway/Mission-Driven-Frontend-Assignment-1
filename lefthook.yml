pre-commit:
  parallel: true
  jobs:
    - name: format
      glob: '*.{js,css,scss,md,json,html,yml}'
      run: pnpm prettier --write {staged_files} && git add {staged_files}

    - name: lint
      glob: '*.js'
      run: pnpm eslint --fix {staged_files} && git add {staged_files}

commit-msg:
  jobs:
    - name: check-commit-convention
      run: node scripts/check-commit-msg.js {1}

pre-push:
  parallel: false
  jobs:
    - name: lint-check
      run: pnpm run lint

    - name: format-check
      run: pnpm run format:check
